[{"apiVersion":"influxdata.com/v2alpha1","kind":"Dashboard","metadata":{"name":"realistic-lovelace-2c8001"},"spec":{"charts":[{"height":1,"kind":"Markdown","name":"Name this Cell","note":"System Health","staticLegend":{},"width":12},{"colors":[{"id":"0","name":"viridian","type":"min","hex":"#32B08C"},{"id":"1","name":"ruby","type":"max","hex":"#BF3D5E","value":100}],"decimalPlaces":2,"height":4,"kind":"Gauge","name":"CPU Temp (¬∞C)","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -10m)\n  |> filter(fn: (r) => r._measurement == \"cpu_temp_c\")\n  |> aggregateWindow(every: 10s, fn: mean, createEmpty: false)\n  |> last()"}],"staticLegend":{},"suffix":"%","tickSuffix":"%","width":2,"yPos":1},{"height":1,"kind":"Markdown","name":"Name this Cell (Clone)","note":"Disk & File Stats","staticLegend":{},"width":12,"yPos":5},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear","suffix":"%"}],"colorizeRows":true,"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"hoverDimension":"auto","kind":"Single_Stat_Plus_Line","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Disk Used %","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -10m)\n  |> filter(fn: (r) =>\n    r._measurement == \"disk\" and\n    r._field == \"used_percent\" and r.path == \"/\"\n  )\n  |> aggregateWindow(every: 10s, fn: mean, createEmpty: false)\n  |> last()"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"suffix":"%","width":4,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":6},{"height":1,"kind":"Markdown","name":"Name this Cell (Clone) (Clone)","note":"Network & Nstat","staticLegend":{},"width":12,"yPos":10},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"VOS_m9kzZCsLnEglG-md4","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"6V0E3U4o3nB3cZlR-sIvA","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"I0-Nd6vRTbxc2D5HK6PFL","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"RX / TX bytes","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) =>\n    r._measurement == \"net\" and\n    (r._field == \"bytes_recv\" or r._field == \"bytes_sent\")\n  )\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: false)\n  |> derivative(unit: 1s, nonNegative: true)\n  |> yield(name: \"bytes_recv_vs_bytes_sent\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":11},{"height":1,"kind":"Markdown","name":"Name this Cell (Clone) (Clone) (Clone)","note":"Network & Nstat","staticLegend":{},"width":12,"yPos":15},{"colors":[{"id":"base","name":"white","type":"text","hex":"#ffffff"}],"fieldOptions":[{"displayName":"Date","fieldName":"_start","visible":true},{"displayName":"_stop","fieldName":"_stop"},{"displayName":"_time","fieldName":"_time"},{"displayName":"_value","fieldName":"_value"},{"displayName":"_field","fieldName":"_field"},{"displayName":"_measurement","fieldName":"_measurement"},{"displayName":"host","fieldName":"host","visible":true},{"displayName":"name","fieldName":"name","visible":true},{"displayName":"load","fieldName":"load","visible":true},{"displayName":"sub","fieldName":"sub","visible":true},{"displayName":"active","fieldName":"active","visible":true}],"height":4,"kind":"Table","name":"Service Active","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -5m)                                   // ‚Üê only the last 5¬†minutes\n  |> filter(fn: (r) => r._measurement == \"systemd_units\")\n  |> filter(fn: (r) => r._field       == \"active_code\")\n  |> filter(fn: (r) => r.active       == \"active\" or r.active == \"failed\" or r.active == \"inactive\")\n  |> filter(fn: (r) => r.host         == \"nocble\")\n  |> filter(fn: (r) => r.load         == \"loaded\")\n  |> filter(fn: (r) => r.name == \"mppt_to_influx.service\" or r.name == \"ssh.service\")\n  |> filter(fn: (r) => r.sub          == \"running\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{},"tableOptions":{"verticalTimeAxis":true},"timeFormat":"hh:mm a","width":6,"yPos":16},{"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"kind":"Single_Stat","name":"Pi Throttled State","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -10m)\n  |> filter(fn: (r) => r._measurement == \"pi_throttled\")\n  |> aggregateWindow(every: 10s, fn: mean, createEmpty: false)\n  |> last()"}],"staticLegend":{},"width":3,"xPos":2,"yPos":1},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"hoverDimension":"auto","kind":"Single_Stat_Plus_Line","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"File Counter (/home)","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) =>\n      r._measurement == \"pi_file_count\"\n  )\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: false)\n  |> difference(columns: [\"_value\"])\n  |> map(fn: (r) => ({\n      _time: r._time,\n      _value: if float(v: r._value) < 0.0 then 0.0 else float(v: r._value),\n      _field: \"file_counter\"\n  }))\n  |> yield(name: \"file_counter\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":2,"widthRatio":1,"xCol":"_time","xPos":4,"yCol":"_value","yPos":6},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear","suffix":"seg/s"}],"colorizeRows":true,"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"hoverDimension":"auto","kind":"Single_Stat_Plus_Line","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"TCP In/Out Segments","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) =>\n    r._measurement == \"nstat\" and\n    (r._field == \"TcpInSegs\" or r._field == \"TcpOutSegs\")\n  )\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: false)\n  |> derivative(unit: 1s, nonNegative: true)\n  |> yield(name: \"tcp_segments_rate\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":4,"yCol":"_value","yPos":11},{"colors":[{"id":"0","name":"white","type":"min","hex":"#ffffff"},{"id":"1","name":"ruby","type":"max","hex":"#BF3D5E","value":100}],"decimalPlaces":2,"height":4,"kind":"Gauge","name":"Memory Used %","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -10m)\n  |> filter(fn: (r) =>\n    r._measurement == \"mem\" and\n    (r._field == \"used\" or r._field == \"total\")\n  )\n  |> pivot(\n    rowKey:[\"_time\"],\n    columnKey: [\"_field\"],\n    valueColumn: \"_value\"\n  )\n  |> map(fn: (r) => ({\n      _time: r._time,\n      _value: float(v: r.used) / float(v: r.total) * 100.0\n    }))\n  |> aggregateWindow(every: 10s, fn: mean, createEmpty: false)\n  |> last()"}],"staticLegend":{},"suffix":"%","tickSuffix":"%","width":2,"xPos":5,"yPos":1},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"hoverDimension":"auto","kind":"Single_Stat_Plus_Line","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Total File (/home)","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -1h)\n  |> filter(fn: (r) => r._measurement == \"pi_file_count\")\n  |> aggregateWindow(every: 1m, fn: last, createEmpty: false)\n  |> yield(name: \"last_count\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":2,"widthRatio":1,"xCol":"_time","xPos":6,"yCol":"_value","yPos":6},{"colors":[{"id":"base","name":"white","type":"text","hex":"#ffffff"}],"fieldOptions":[{"displayName":"Date","fieldName":"_start","visible":true},{"displayName":"_stop","fieldName":"_stop"},{"displayName":"_time","fieldName":"_time"},{"displayName":"_value","fieldName":"_value"},{"displayName":"_field","fieldName":"_field"},{"displayName":"_measurement","fieldName":"_measurement"},{"displayName":"host","fieldName":"host","visible":true},{"displayName":"name","fieldName":"name","visible":true},{"displayName":"load","fieldName":"load","visible":true},{"displayName":"sub","fieldName":"sub","visible":true},{"displayName":"active","fieldName":"active","visible":true}],"height":4,"kind":"Table","name":"Pending Updates","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"pending_updates\")\n  |> last()"}],"staticLegend":{},"tableOptions":{"verticalTimeAxis":true},"timeFormat":"hh:mm a","width":6,"xPos":6,"yPos":16},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear","suffix":"dBm"}],"colorizeRows":true,"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"hoverDimension":"auto","kind":"Single_Stat_Plus_Line","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Wi‚ÄëFi Signal (dBm)","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -10m)\n  |> filter(fn: (r) => r._measurement == \"wifi_signal_dbm\")\n  |> aggregateWindow(every: 10s, fn: last, createEmpty: false)\n  |> last()"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"suffix":"dBm","width":3,"widthRatio":1,"xCol":"_time","xPos":7,"yCol":"_value","yPos":1},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"hcaUm8KcfAe8YF7WuDGJa","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"fUr3cT-cpBqOXqDU1I0hB","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"Z1cv4O5QXpo_SxA_zM7wP","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Installed Packages","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -24h)\n  |> filter(fn: (r) => r._measurement == \"pkg_install\")\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: false)\n  |> difference(nonNegative: true)                     // compute new ‚Äì last, clamp negatives to zero\n  |> yield(name: \"new_value_data\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":8,"yCol":"_value","yPos":6},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"VOS_m9kzZCsLnEglG-md4","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"6V0E3U4o3nB3cZlR-sIvA","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"I0-Nd6vRTbxc2D5HK6PFL","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"UDP Packets","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) =>\n    r._measurement == \"nstat\" and\n    r._field == \"UdpInDatagrams\"\n  )\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: false)\n  |> derivative(unit: 1s, nonNegative: true)\n  |> yield(name: \"udp_packets_in_rate\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":8,"yCol":"_value","yPos":11},{"colors":[{"id":"0","name":"laser","type":"min","hex":"#00C9FF"},{"id":"1","name":"ruby","type":"max","hex":"#BF3D5E","value":1}],"decimalPlaces":2,"height":4,"kind":"Gauge","name":"GPIO18 Input","queries":[{"query":"from(bucket: \"nocblecpu\")\n  |> range(start: -10m)\n  |> filter(fn: (r) => r._measurement == \"gpio18_input\")\n  |> aggregateWindow(every: 10s, fn: last, createEmpty: false)\n  |> last()"}],"staticLegend":{},"width":2,"xPos":10,"yPos":1}],"name":"üçì Raspberry Pi 4 - Internal Monitor"}}]